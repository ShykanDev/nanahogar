import{d as k,h as n,o as p,f as T,w as v,e as V,j as P,r as h,c as N,a as t,g as i,t as O,k as E,l as c,v as f,m as I,b as q,p as o}from"./index-2XGmXrTl.js";import{g as S,c as U,u as j,a as A}from"./index-2cab5241-CdWbepy5.js";const M={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-35"},B={class:"flex flex-col items-center max-w-md p-6 mx-auto bg-white rounded-lg shadow-2xl"},R={class:"mt-4 text-lg text-center text-gray-800 font-poppins"},z={class:"font-semibold text-blue-500"},_={class:"flex items-center justify-center bg-gray-100 font-poppins"},$={class:"flex flex-col items-center justify-center w-full p-4 space-y-6 bg-white rounded-lg shadow-md fade-in"},D={class:"w-3/4 space-y-6",action:"#",method:"POST",onsubmit:"return validateForm()"},G={class:"relative animate-fade-left"},H={class:"relative animate-fade-left animate-delay-100"},L={class:"relative animate-fade-left animate-delay-150"},F={class:"relative animate-fade-left animate-delay-200"},W={class:"text-center text-gray-600"},Q=k({__name:"CreateAccountView",setup(Y){const u=n(""),a=n(""),l=n(""),d=n(""),b=S(),g=P(),x=async()=>{if(l.value!==d.value){o.error("Las contraseñas no coinciden");return}if(l.value.length<6){o.error("La contraseña debe tener al menos 6 caracteres");return}if(u.value.length<3){o.error("El nombre debe tener al menos 3 caracteres");return}if(!a.value.includes("@")){o.error("El correo electrónico debe ser válido");return}try{const s=await U(b,a.value,l.value);console.log(s),await j(s.user,{displayName:u.value}),s.user.emailVerified||await A(s.user),g.push({name:"login"}),setTimeout(()=>{o.success(`Un correo de verificación ha sido enviado a ${a.value}. Por favor verifique su bandeja de entrada para activar su cuenta`,{position:o.POSITION.TOP_RIGHT,autoClose:1e4})},500),setTimeout(()=>{o.info("Su cuenta se ha creado, antes de iniciar sesion por primera vez haga click en el enlace de verificación que le hemos enviado, este paso solo es necesario una vez",{position:o.POSITION.TOP_RIGHT,autoClose:15e3})},12e3),y.value=!0}catch(s){s.code==="auth/email-already-in-use"?(console.log("El correo electrónico ya está en uso."),m.value=!0):console.log(`Error al crear la cuenta: ${s.message}`)}},y=n(!1),m=n(!1),w=()=>{m.value=!1,u.value="",a.value="",l.value="",d.value=""};return(s,e)=>{const C=h("router-link");return p(),T(V,null,{main:v(()=>[m.value?(p(),N("article",M,[t("div",B,[e[6]||(e[6]=t("i",{class:"text-4xl text-red-500 fas fa-times-circle"},null,-1)),t("h2",R,[e[4]||(e[4]=i(" El correo electrónico ")),t("span",z,O(a.value),1),e[5]||(e[5]=i(" ya está en uso. Por favor, utilice otro correo. "))]),t("button",{class:"px-6 py-2 mt-5 text-sm font-semibold text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2",onClick:w}," Cerrar ")])])):E("",!0),t("section",_,[t("div",$,[e[17]||(e[17]=t("h2",{class:"text-3xl font-bold text-center animate-fade-left text-rose-700"},"Cree una cuenta, y comience a compartir sus experiencias",-1)),t("form",D,[t("div",G,[e[7]||(e[7]=t("label",{for:"name",class:"sr-only"},"Nombre completo",-1)),e[8]||(e[8]=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("i",{class:"text-gray-400 fas fa-user"})],-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),id:"name",name:"name",type:"text",required:"",class:"block w-full p-3 pl-10 border border-gray-300 rounded-md input focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre completo"},null,512),[[f,u.value]])]),t("div",H,[e[9]||(e[9]=t("label",{for:"email",class:"sr-only"},"Correo electrónico",-1)),e[10]||(e[10]=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("i",{class:"text-gray-400 fas fa-envelope"})],-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),id:"email",name:"email",type:"email",required:"",class:"block w-full p-3 pl-10 border border-gray-300 rounded-md input focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Correo electrónico"},null,512),[[f,a.value]])]),t("div",L,[e[11]||(e[11]=t("label",{for:"password",class:"sr-only"},"Contraseña",-1)),e[12]||(e[12]=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("i",{class:"text-gray-400 fas fa-lock"})],-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>l.value=r),id:"password",name:"password",type:"password",required:"",class:"block w-full p-3 pl-10 border border-gray-300 rounded-md input focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contraseña"},null,512),[[f,l.value]])]),t("div",F,[e[13]||(e[13]=t("label",{for:"confirm-password",class:"sr-only"},"Confirmar contraseña",-1)),e[14]||(e[14]=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("i",{class:"text-gray-400 fas fa-lock"})],-1)),c(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>d.value=r),id:"confirm-password",name:"confirm-password",type:"password",required:"",class:"block w-full p-3 pl-10 border border-gray-300 rounded-md input focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirmar contraseña"},null,512),[[f,d.value]])]),t("button",{onClick:I(x,["prevent"]),type:"submit",class:"w-full py-3 font-bold text-white transition duration-300 bg-blue-500 rounded-md hover:bg-blue-600"}," Registrarse ")]),t("p",W,[e[16]||(e[16]=i(" ¿Ya tienes una cuenta? ")),q(C,{to:{name:"login"},class:"text-blue-500 hover:underline"},{default:v(()=>e[15]||(e[15]=[i("Iniciar Sesión")])),_:1})]),e[18]||(e[18]=t("p",{class:"mt-4 text-center text-gray-600"},[t("i",{class:"text-blue-500 fas fa-info-circle"}),i(" Al registrarte, aceptas nuestros "),t("a",{href:"#",class:"text-blue-500 hover:underline"},"Términos y Condiciones"),i(". ")],-1))])])]),_:1})}}});export{Q as default};
